<!--pages/school/calendar.wxml-->
<cu-custom bgColor="bg-black" isCustom="{{true}}">
  <view slot="content">æ ¡å† - è´å£³å°ç›’å­</view>
</cu-custom>
<view class="remind-box bg-black" wx:if="{{isLoading}}" style="height:{{screenHeight}}px;">
  <image class="remind-img" src="/images/loading.gif"></image>
</view>
<view class='bg-black' wx:else>

  <view class="padding bg-black">
    <view class="cu-bar bg-black">
      <view class="action">
        <text class="cuIcon-titles text-green"></text>
        <text class="text-xl text-bold">æ•™å­¦æ ¡å†</text>
      </view>
    </view>
    <view class="text-left padding-lr">
      <text> {{jsonContent.schoolYear}}å­¦å¹´ ç¬¬{{jsonContent.semester}}å­¦æœŸ\n </text>
      <view wx:if="{{jsonContent.teachWeek !='N/A'}}">
        <text> {{jsonContent.month}} æœˆ{{jsonContent.day}} æ—¥ï¼ˆç¬¬ {{jsonContent.teachWeek}} å‘¨ï¼‰
          {{jsonContent.dayOfWeek}}\n </text>
      </view>
      <view wx:else>
        <text> {{jsonContent.month}}æœˆ{{jsonContent.day}}æ—¥ï¼ˆå‡æœŸï¼‰{{jsonContent.dayOfWeek}} </text>
      </view>
      <view> <text>\r\nå—å„ç§å› ç´ å½±å“ï¼Œæ ¡å†ä¸ºæš‚è¡Œç‰ˆæˆ–æ›´æ–°ä¸åŠæ—¶ï¼Œå­¦æ ¡éšæ—¶å¯èƒ½æ›´æ–°æˆ–æ ¹æ®å®é™…æƒ…å†µå˜æ›´ï¼Œæœ¬æ ¡å†ä»…ä¾›å‚è€ƒ.</text> </view>
    </view>
  </view>

  <calendar-item bindtap="showPic" bgcolor="cyan" value="ğŸ“…" title="æŸ¥çœ‹åŸç‰ˆæ ¡å†"
    subtitle="School Calendar"></calendar-item>

  <!-- å¼€å­¦ç¬¬ä¸€å‘¨ -->
  <calendar-item wx:if="{{jsonContent.gap2StartClass > 0 && jsonContent.gap2StartClass <= 30}}" bgcolor="cyan"
    value="{{jsonContent.gap2StartClass}}å¤©" title="æ­£å¼å¼€è¯¾" subtitle="{{jsonContent.startClassDate}}"></calendar-item>

  <view bindtap="showPic" class="cu-list menu sm-border card-menu margin-bottom" wx:if="{{jsonContent.teachWeek != 'N/A'}}">
    <view class="calendar-item">
      <view class="content">
        <text class="cuIcon-title text-white"></text>
        <text class="text-white">æœ¬å‘¨ï¼ˆç¬¬{{jsonContent.teachWeek}}å‘¨ï¼‰æ ¡å†å®‰æ’</text>
      </view>
    </view>
    <view class="calendar-item padding-lr-xl" wx:for="{{gradeArray}}" wx:key="vk">
      <view class="content padding-lr"><text class="text-white text-bold">{{item.title}}</text></view>
      <view class="action padding-lr"><text class="text-white text-df">{{jsonContent.thisWeekWork[item.value]}}</text>
      </view>
    </view>
  </view>

  <!-- å¹¿å‘Šä½ -->
  <view class="padding radius">
    <ad unit-id="adunit-62f52651dd5f4ff6"></ad>
  </view>
  <!-- å¹¿å‘Šä½ç»“æŸ -->

  <view bindtap="showPic" class="cu-list menu sm-border card-menu margin-tb" wx:if="{{jsonContent.teachWeek != 'N/A'}}">
    <view class="calendar-item">
      <view class="content">
        <text class="cuIcon-title text-white"></text>
        <text class="text-white">ä¸‹å‘¨ï¼ˆç¬¬{{jsonContent.teachWeek+1}}å‘¨ï¼‰æ ¡å†å®‰æ’</text>
      </view>
    </view>
    <view class="calendar-item padding-lr-xl" wx:for="{{gradeArray}}" wx:key="vk">
      <view class="content padding-lr"><text class="text-white text-bold">{{item.title}}</text></view>
      <view class="action padding-lr"><text class="text-white text-df">{{jsonContent.nextWeekWork[item.value]}}</text>
      </view>
    </view>
  </view>

  <block wx:for="{{jsonContent.nextAffair}}" wx:key="jjr" wx:index="index">
    <calendar-item wx:if="{{item.gapDays > 0}}" bgcolor="{{colorArr[index]}}" value="{{item.gapDays}}å¤©"
      title="{{item.title}}" subtitle="{{item.subtitle}}"></calendar-item>
  </block>

  <!-- è€ƒè¯•å‘¨ -->
  <calendar-item bgcolor="cyan" value="{{jsonContent.gap2ExamWeek}}å¤©" title="è€ƒè¯•å‘¨"
    subtitle="{{jsonContent.examWeekDate}}"></calendar-item>

  <!-- å¯’æš‘å‡ -->
  <calendar-item wx:if="{{jsonContent.gap2StartClass > 0 && jsonContent.gap2StartClass <= 30}}" bgcolor="blue"
    value="{{jsonContent.gap2Vaction}}å¤©" title="æ”¾{{jsonContent.month<8?'æš‘':'å¯’'}}å‡"
    subtitle="{{jsonContent.vactionDate}}"></calendar-item>

  <view class="cu-bar btn-group bg-black padding-xl">
    <button open-type="share" class="cu-btn bg-green shadow-blur redius padding-bottom-xl">
      <text class="cuIcon-share"></text>åˆ†äº«
    </button>
    <button bindtap="showPic" class="cu-btn bg-blue shadow-blur radius padding-bottom-xl">
      <text class="cuIcon-calendar"></text>åŸç‰ˆæ ¡å†
    </button>
  </view>

</view>